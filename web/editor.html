<html>
<head>
<link rel="stylesheet" type="text/css" href="${base}css/markdown.css" />
<script type="text/javascript" src="${base}scripts/Markdown.Converter.js"></script>
<script type="text/javascript" src="${base}scripts/Markdown.Sanitizer.js"></script>
<script type="text/javascript" src="${base}scripts/Markdown.Editor.js"></script>
</head>
<body>
	<table style="width: 100%;">
		<tr style="width: 100%;">
			<td width="50%">
				<div id="wmd-button-bar"></div>
			</td>
			<td>&nbsp;</td>
		</tr>

		<tr>
			<td valign="top"><textarea class="wmd-input" style="vertical-align: top;"id="wmd-input">
${noteText}
</textarea></td>
			<td style="border:1px solid black;width:50%;"><div id="wmd-preview" class="wmd-panel wmd-preview" style="width:100%;"></div></td>
		</tr>
	</table>
	<div class="wmd-panel"></div>

</body>
<script type="text/javascript">
	(function() {
		var converter1 = Markdown.getSanitizingConverter();

		converter1.hooks.chain("preBlockGamut", function(text, rbg) {
			return text.replace(/^ {0,3}""" *\n((?:.*?\n)+?) {0,3}""" *$/gm,
					function(whole, inner) {
						return "<blockquote>" + rbg(inner) + "</blockquote>\n";
					});
		});

		var editor1 = new Markdown.Editor(converter1);

		editor1.run();
	})();
</script>

</html>
