<!DOCTYPE html>

<html>
<head>
<link rel="stylesheet" type="text/css"
	href="css/layout-default-latest.css" title="style" media="screen" />
<link rel="stylesheet" type="text/css" href="css/mbContainer.css"
	title="style" media="screen" />
<script type="text/javascript" src="scripts/jquery-1.9.1.js"></script>
<script type="text/javascript" src="scripts/jquery-ui-1.10.1.custom.js"></script>
<script type="text/javascript" src="scripts/jquery.layout-latest.js"></script>

<script type="text/javascript" src="scripts/jquery.metadata.js"></script>
<script type="text/javascript" src="scripts/mbContainer.js"></script>

<script src="scripts/Markdown.Converter.js"></script>
<style type="text/css">
<
style type         ="text /css">body {
	background: #0066cc url("elements/bgnds/body_light.png");
}

li.basket {
	list-style: none;
	background-color: #f1f1f1;
	padding-bottom: 3px;
	margin-bottom: 3px;
}


a.basket, a.selectedBasket {
	color: black;
	text-decoration: none;
}

a.selectedBasket {
font-weight: bolder; 
}
.wrapper {
	font-family: Arial, Helvetica, sans-serif;
	margin-top: 100px;
	margin-left: 50px;
}

.wrapper h1 {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 26px;
}

.evidence {
	color: gray;
	padding: 10px;
	margin-right: 5px;
	margin-top: 5px;
	-moz-border-radius: 10px;
	-webkit-border-radius: 10px;
}

#actions button {
	padding: 4px;
	display: inline-block;
	cursor: pointer;
	font: 12px/14px Arial, Helvetica, sans-serif;
	color: #666;
	border: 1px solid #999;
	background-color: #eee;
	-moz-border-radius: 10px;
	-webkit-border-radius: 10px;
	-moz-box-shadow: #999 2px 0px 3px;
	-webkit-box-shadow: #999 2px 0px 3px;
	margin-bottom: 4px;
}

:focus {
	outline: 0;
}

#actions button:hover {
	color: #aaa;
	background-color: #000;
}

#dock {
	display: block;
	padding-top: 10px;
	height: 40px;
}

#dock img {
	padding-right: 10px;
}

#desk {
	width: 100%;
}

#desk td {
	padding: 5px;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
}

#mb_console {
	padding: 5px;
	background: gainsboro;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	font-size: 10px;
	height: 400px;
	overflow: auto;
}
</style>
<script type="text/javascript">
	$(document).ready(function() {
		var converter = new Markdown.Converter();
		$(".noteContent").each(function() {
			$(this).html(converter.makeHtml($(this).html()));
			$("a", this).each(function() {
				$(this).attr("href", "notesmd://" + encodeURIComponent($(this).attr("href")));
			})
		});
		$(".containerPlus").buildContainers({
			containment : "document",
			elementsPath : "elements/",
			mantainOnWindow:false,
			onCreate : function(o) {
			},
			onResize : function(o) {
			},
			onClose : function(o) {
			},
			onCollapse : function(o) {
			},
			onIconize : function(o) {
			},
			onDrag : function(o) {
			},
			onRestore : function(o) {
			},
		});

		$("body").layout({
			applyDefaultStyles : true
		});
	});
</script>
</head>

<body class="wrapper">
	<div class="ui-layout-north">
		<h2>Header</h2>
	</div>
	<div class="ui-layout-west">
		<h3>Baskets</h3>
		<div id="baskets" style="margin: 0px; padding: 0px;">
			<ul style="margin: 0px; margin-bottom: 4px; padding: 0px;">
				%for basket in baskets:
				%if basket.id == selectedBasket.id:
				<%
					_cls = "basket selectedBasket"
					%>
				%else:
				<%
					_cls = "basket"
					%>
				%endif
					
				<li class="basket"><a class="${_cls}"
					href="index?basket=${basket.id}">${basket.basketName}</a></li> 
					%endfor
			</ul>
		</div>
	</div>
	<div class="ui-layout-center">
		<div>
			% for note in notes:
			<div id="container_${note.id}" title="${note.header}"
				class="containerPlus draggable resizable {buttons:'m,i,p,c', skin:'default', width:'400'}"
				style="width: 30%; position: relative; float: left;">
				<div id="note_${note.id}" class="note">
					<div id="note_content_${note.id}" class="noteContent">${note.text}</div>
				</div>
			</div>
			%endfor
		</div>
	</div>
</body>
</html>